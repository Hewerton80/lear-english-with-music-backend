generator client {
    provider = "prisma-client-js"
}

generator typegraphql {
    provider = "typegraphql-prisma"
    output   = "./generated/type-graphql"
}

datasource db {
    provider = "mysql"
    url      = env("DATABASE_URL")
}

model Song {
    id        String       @id @default(cuid())
    title     String
    slug      String       @unique
    authors   SongAuthor[]
    createdAt DateTime     @default(now())
}

model Author {
    id        String       @id @default(cuid())
    name      String
    slug      String       @unique
    songs     SongAuthor[]
    createdAt DateTime     @default(now())
}

model SongAuthor {
    authorId  String
    author    Author   @relation(fields: [authorId], references: [id])
    songId    String
    song      Song     @relation(fields: [songId], references: [id])
    createdAt DateTime @default(now())

    @@id([songId, authorId])
}
